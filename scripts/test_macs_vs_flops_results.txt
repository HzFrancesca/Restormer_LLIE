================================================================================
测试各库计算的是 MACs 还是 FLOPs
================================================================================

测试模型: Linear(1, 1)
输入: torch.Size([1, 1])

================================================================================

1. torchprofile 测试
--------------------------------------------------------------------------------
Linear(1, 1, bias=False):
  profile_macs 返回: 1
  理论 MACs: 1, 理论 FLOPs: 1
  结论: torchprofile 返回 MACs

Linear(1, 1, bias=True):
  profile_macs 返回: 1
  理论 MACs: 1, 理论 FLOPs: 2
  结论: torchprofile 返回 MACs

================================================================================

2. thop 测试
--------------------------------------------------------------------------------
Linear(1, 1, bias=False):
  thop.profile 返回: 1.0
  理论 MACs: 1, 理论 FLOPs: 1
  结论: thop 返回 MACs

Linear(1, 1, bias=True):
  thop.profile 返回: 1.0
  理论 MACs: 1, 理论 FLOPs: 2
  结论: thop 返回 MACs

================================================================================

3. torchinfo 测试
--------------------------------------------------------------------------------
Linear(1, 1, bias=False):
  torchinfo.total_mult_adds 返回: 1
  理论 MACs: 1, 理论 FLOPs: 1
  结论: torchinfo 返回 MACs

Linear(1, 1, bias=True):
  torchinfo.total_mult_adds 返回: 2
  理论 MACs: 1, 理论 FLOPs: 2
  结论: torchinfo 返回 FLOPs

================================================================================

4. fvcore 测试
--------------------------------------------------------------------------------
Linear(1, 1, bias=False):
  fvcore.FlopCountAnalysis 返回: 1
  理论 MACs: 1, 理论 FLOPs: 1
  结论: fvcore 返回 MACs

Linear(1, 1, bias=True):
  fvcore.FlopCountAnalysis 返回: 1
  理论 MACs: 1, 理论 FLOPs: 2
  结论: fvcore 返回 MACs

================================================================================

总结
================================================================================

根据测试结果判断：
- 如果 bias=False 返回 1，bias=True 返回 1 → 该库返回 MACs
- 如果 bias=False 返回 1，bias=True 返回 2 → 该库返回 FLOPs

理论基础：
- Linear(1,1, bias=False): y = w*x  → 1乘法 = 1 MAC = 1 FLOP
- Linear(1,1, bias=True):  y = w*x+b → 1乘法+1加法 = 1 MAC = 2 FLOPs

